import{i as h,q as ae,w as F,s as Z,d as g,v as ee,o as l,c,f as D,e as o,x as oe,g as P,n as E,y as te,z as re,F as w,r as L,A as M,m as d,B as z,C as le,D as ie,E as ce,h as H,j as I,H as ue,G as J,I as de,t as f,J as _e,K as ne,L as pe,M as N,b as _,N as Q,P as se,O as me,Q as fe,R as ge,S as ve,T as he,k as ye,l as ke}from"./index.ec921d61.js";import{s as $e}from"./currency.577ba65c.js";import{_ as be,a as Ce,b as Pe,c as Ie}from"./QuantitySelectionFormComponent.vue_vue_type_style_index_0_lang.7830c3d7.js";import{u as we}from"./goods.2347c4a7.js";const Se=(t,e=0)=>{if(e===0)return t;const r=h(!1);let n=0;const a=()=>{n&&clearTimeout(n),n=window.setTimeout(()=>{r.value=t.value},e)};return ae(a),F(()=>t.value,s=>{s?a():r.value=s}),r},xe=Z({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),Le=Z({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),Be=g({name:"ElSkeletonItem"}),De=g({...Be,props:Le,setup(t){const e=ee("skeleton");return(r,n)=>(l(),c("div",{class:E([o(e).e("item"),o(e).e(r.variant)])},[r.variant==="image"?(l(),D(o(oe),{key:0})):P("v-if",!0)],2))}});var q=te(De,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const Oe=g({name:"ElSkeleton"}),Fe=g({...Oe,props:xe,setup(t,{expose:e}){const r=t,n=ee("skeleton"),a=Se(re(r,"loading"),r.throttle);return e({uiLoading:a}),(s,i)=>o(a)?(l(),c("div",z({key:0,class:[o(n).b(),o(n).is("animated",s.animated)]},s.$attrs),[(l(!0),c(w,null,L(s.count,p=>(l(),c(w,{key:p},[s.loading?M(s.$slots,"template",{key:p},()=>[d(q,{class:E(o(n).is("first")),variant:"p"},null,8,["class"]),(l(!0),c(w,null,L(s.rows,m=>(l(),D(q,{key:m,class:E([o(n).e("paragraph"),o(n).is("last",m===s.rows&&s.rows>1)]),variant:"p"},null,8,["class"]))),128))]):P("v-if",!0)],64))),128))],16)):M(s.$slots,"default",le(z({key:1},s.$attrs)))}});var Re=te(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const U=ie(Re,{SkeletonItem:q}),A=ce(q),Te=H("group",()=>{const t=h({}),e=h(""),r=I(()=>Object.keys(t.value).length),n=h(!0),a=h(""),s=h(),i=ue(),p=$=>t.value[$],m=async $=>{const[B,x]=await J.groupName($);if(!B)return e.value=x},C=async $=>{const[B,x]=await J.group($);return B?a.value=i.t("group.error.load"):($e(x),t.value[$]=x)};return{data:t,groupName:e,length:r,isLoading:n,isError:a,getData:p,load:async $=>{a.value="",n.value=!0,await Promise.all([C($),m($)]),n.value=!1},groupWorker:s,createWorker:()=>s.value=new Worker("/js/groupWorker.js"),terminateWorker:()=>{s.value&&(s.value.terminate(),s.value=void 0)}}}),W=[10,30,50,100,150,200,250],K=de("pagination",W[1]),S=H("pagination",()=>{const t=h(0),e=h(1),r=h(10),n=h(K.value||W[1]),a=u=>{n.value=u,K.value=u},s=I(()=>Math.ceil(t.value/n.value)),i=I(()=>e.value===1),p=I(()=>e.value===s.value),m=u=>u>0?e.value=u:e.value=1,C=()=>e.value=1,R=I(()=>{let u=1;const y=[],k=r.value/2;if(s.value<r.value){for(let b=1;b<=s.value&&(y.push(u),u!==s.value);b++)u+=1;return m(1),y}if(e.value-k>0&&(u=e.value-k),e.value+k>s.value){const b=s.value-r.value+1;return Array(r.value).fill(0).map((V,G)=>b+G)}for(let b=1;b<=r.value&&(y.push(u),u!==s.value);b++)u+=1;return y}),O=I(()=>{const u=e.value*n.value;return{start:u-n.value,end:u}});return{length:t,onPage:n,quantity:W,activePage:e,numberOfButtons:s,isLeftButtonDisabled:i,isRightButtonDisabled:p,whichButtonsDisplayed:R,getRange:O,setOnPage:a,setLength:u=>t.value=u,setActive:m,setDefault:C,moveLeft:()=>e.value-=1,moveRight:()=>e.value+=1,toFirst:()=>e.value=1,toLast:()=>e.value=s.value}}),Ae=["disabled"],Ee=g({__name:"PaginationButtonToStartComponent",setup(t){const e=S();return(r,n)=>(l(),c("button",{class:"pagination__button",disabled:o(e).isLeftButtonDisabled,onClick:n[0]||(n[0]=(...a)=>o(e).toFirst&&o(e).toFirst(...a))},f(r.$t("pagination.toStart")),9,Ae))}}),Ne=["disabled"],qe=g({__name:"PaginationButtonToLeft",setup(t){const e=S();return(r,n)=>(l(),c("button",{class:"pagination__button",disabled:o(e).isLeftButtonDisabled,onClick:n[0]||(n[0]=(...a)=>o(e).moveLeft&&o(e).moveLeft(...a))}," \u276E ",8,Ne))}}),Ge=["onClick"],Me=g({__name:"PaginationButton",setup(t){const e=S();return(r,n)=>(l(!0),c(w,null,L(o(e).whichButtonsDisplayed,a=>(l(),c("button",{class:E(["pagination__button",{"active-button":a===o(e).activePage}]),key:a,onClick:s=>o(e).setActive(a)},f(a),11,Ge))),128))}});const We=["disabled"],He=g({__name:"PaginationButtonToRight",setup(t){const e=S();return(r,n)=>(l(),c("button",{class:"pagination__button",disabled:o(e).isRightButtonDisabled,onClick:n[0]||(n[0]=(...a)=>o(e).moveRight&&o(e).moveRight(...a))}," \u276F ",8,We))}}),je=["disabled"],Ve=g({__name:"PaginationButtonToEndComponent",setup(t){const e=S();return(r,n)=>(l(),c("button",{class:"pagination__button",disabled:o(e).isRightButtonDisabled,onClick:n[0]||(n[0]=(...a)=>o(e).toLast&&o(e).toLast(...a))},f(r.$t("pagination.toEnd")),9,je))}}),ze={id:"pagination-quantity",class:"pagination__quantity"},Je=["value","selected","onClick"],Qe=g({__name:"PaginationQuantityComponent",setup(t){const e=S();return(r,n)=>(l(),c("select",ze,[(l(!0),c(w,null,L(o(e).quantity,a=>(l(),c("option",{class:"pagination__quantity-option",key:a,value:a,selected:a===o(e).onPage,onClick:s=>o(e).setOnPage(a)},f(a),9,Je))),128))]))}});const Ue={key:0,class:"pagination"},X=g({__name:"PaginationItemComponent",setup(t){const e=S();return(r,n)=>o(e).length?(l(),c("section",Ue,[d(Ee),d(qe),d(Me),d(He),d(Ve),d(Qe)])):P("",!0)}}),Ke=g({__name:"PaginationComponent",props:{length:null},setup(t){const e=t,r=S();return F(e,n=>r.setLength(n.length)),(n,a)=>(l(),c(w,null,[d(X),M(n.$slots,"default"),d(X)],64))}});const Xe=["src","alt"],Ye={key:1,class:"card-line__left-img",loading:"lazy",src:be,alt:"empty image"},Ze=g({__name:"CardLineImageComponent",props:{img:null,alt:null},setup(t){const e=t,r=_e(),n=()=>{const a=`https://www.rcscomponents.kiev.ua${e.img}`,s=e.alt;r.show({src:a,alt:s})};return(a,s)=>t.img?(l(),c("img",{key:0,class:"card-line__left-img",loading:"lazy",src:"https://www.rcscomponents.kiev.ua"+t.img,alt:t.alt,onClick:n},null,8,Xe)):(l(),c("img",Ye))}});const et="/radiomag/images/pdf.svg",tt={class:"card-line__center-description"},nt={class:"card-line__center-description-small"},st={class:"card-line__center-description-small-paragraph"},at={class:"card-line__center-description-small-paragraph_light-color"},ot={key:0,class:"card-line__center-description-small-paragraph"},rt={class:"card-line__center-description-small-paragraph_light-color"},lt={class:"card-line__center-description-main-text"},it={key:0,class:"card-line__center-description-tech-info"},ct=_("img",{class:"card-line__center-description-tech-info-icon",src:et,alt:"file specification"},null,-1),ut=["href"],dt=g({__name:"CardLineDescriptionComponent",props:{product:null,filterHeaders:null},setup(t){const e=t,r=ne(),n=we(),a=I(()=>e.product.description.reduce((i,p,m)=>m===0||p===void 0?i:`${i+p} `,"")),s=()=>{n.add({product:e.product,filterHeaders:e.filterHeaders}),se.ping({action:"go to page",to:r.resolve({name:"goods",params:{code:e.product.id}}).fullPath})};return(i,p)=>{const m=pe("RouterLink");return l(),c("div",tt,[d(m,{class:"card-line__center-description-header-text",to:{name:"goods",params:{code:t.product.id}},onClick:s},{default:N(()=>[_("h3",null,f(t.product.description[0]),1)]),_:1},8,["to"]),_("div",nt,[d(m,{class:"common-link",to:{name:"goods",params:{code:t.product.id}},onClick:s},{default:N(()=>[_("p",st,[Q(f(i.$t("card.codeGoods"))+": ",1),_("span",at,f(t.product.id),1)])]),_:1},8,["to"]),t.product.description[1]?(l(),c("p",ot,[Q(f(i.$t("card.production"))+": ",1),_("span",rt,f(t.product.description[1]),1)])):P("",!0)]),_("p",lt,f(o(a)),1),t.product.datasheet_link_data?(l(),c("p",it,[ct,_("a",{class:"card-line__center-description-tech-info-link",target:"_blank",href:"https://www.rcscomponents.kiev.ua/"+t.product.datasheet_link_data},f(i.$t("card.technicalInformation")),9,ut)])):P("",!0)])}}});const _t={class:"card-line"},pt={class:"card-line__left"},mt={class:"card-line__center"},ft={class:"card-line__center-availability"},gt={class:"card-line__center-availability-header-text"},vt={class:"card-line__center-price"},ht={class:"card-line__center-price-header-text"},yt=g({__name:"CardLineComponent",props:{product:null,filterHeaders:null},setup(t){const e=t,r=me(),n=h(1),a=i=>n.value=i,s=()=>{const i={product:e.product,quantity:n.value};se.ping({action:"action",todo:"cart add",payload:i}),r.add(i)};return(i,p)=>{var m,C;return l(),c("article",_t,[_("div",pt,[d(Ze,{img:(C=(m=t.product)==null?void 0:m.image)!=null?C:"",alt:t.product.description[0]},null,8,["img","alt"])]),_("div",mt,[d(dt,{product:t.product,"filter-headers":t.filterHeaders},null,8,["product","filter-headers"]),_("div",ft,[_("h3",gt,f(i.$t("card.availability"))+": ",1),d(Ce,{inStock:t.product.stock_data,unit:t.product.pcs},null,8,["inStock","unit"])]),_("div",vt,[_("h3",ht,f(i.$t("card.price"))+": ",1),d(Pe,{productPriceArray:t.product.prices},null,8,["productPriceArray"])])]),d(Ie,{quantityOfProduct:n.value,onChangeQuantityOfProduct:a,onAddToCart:s},null,8,["quantityOfProduct"])])}}}),kt={class:"error-in-group"},$t={class:"error-in-group__message"},Y=g({__name:"ErrorMessageInGroup",props:{errorMessage:null},setup(t){return(e,r)=>(l(),c("div",kt,[_("h2",$t,f(t.errorMessage)+" \u2639",1)]))}});const j=H("filters",()=>{const t=h({}),e=h(!1);return{allSearchParams:t,resetAll:e,setSearchParams:s=>{if(Boolean(t.value[s.filterIndex])===!1)return t.value[s.filterIndex]=[s.filterItemValue];const i=t.value[s.filterIndex].indexOf(s.filterItemValue);if(i>-1){const p=t.value[s.filterIndex].filter((m,C)=>C!=i);return t.value[s.filterIndex]=p}return t.value[s.filterIndex].push(s.filterItemValue)},reset:()=>{e.value=!0,t.value={},setTimeout(()=>e.value=!1,1e3)},apply:s=>s(t.value)}}),bt=["name","id"],Ct=["for"],Pt=g({__name:"FilterItemComponent",props:{filterIndex:null,header:null,item:null},setup(t){const e=h(!1),r=j();return F(()=>r.resetAll,n=>n===!0&&(e.value=!1)),(n,a)=>(l(),c(w,null,[fe(_("input",{class:"filter__item-input",type:"checkbox",name:t.item.title,id:`${t.header}_${t.item.title}`,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),onInput:a[1]||(a[1]=s=>o(r).setSearchParams({filterIndex:t.filterIndex+1,filterItemValue:t.item.title}))},null,40,bt),[[ge,e.value]]),_("label",{class:"filter__item-label",for:`${t.header}_${t.item.title}`},f(t.item.title)+" ("+f(t.item.qty)+") ",9,Ct)],64))}});const It={class:"filter"},wt={class:"filter__header-text"},St=g({__name:"FilterComponent",props:{header:null,filterIndex:null,data:null},setup(t){const e=j(),r=h();return F(()=>e.resetAll,n=>n===!0&&r.value&&(r.value.scrollTop=0)),(n,a)=>(l(),c("div",It,[_("h2",wt,f(t.header),1),_("ul",{class:"filter__container",ref_key:"list",ref:r},[(l(!0),c(w,null,L(t.data,(s,i)=>(l(),c("li",{class:"filter__item",key:i},[d(Pt,{header:t.header,"filter-index":t.filterIndex,item:s},null,8,["header","filter-index","item"])]))),128))],512)]))}});const xt={key:0},Lt={class:"filters__header"},Bt={class:"filters"},Dt={class:"filters__control"},Ot=g({__name:"FiltersComponent",props:{headers:null,data:null},emits:["filtersApply","filtersReset"],setup(t,{emit:e}){const r=j(),n=()=>{r.reset(),e("filtersReset")};return(a,s)=>t.data.length?(l(),c("section",xt,[_("h2",Lt,f(a.$t("filters.header")),1),_("div",Bt,[(l(!0),c(w,null,L(t.headers,(i,p)=>(l(),D(St,{key:p,filterIndex:p,header:i,data:t.data[p]},null,8,["filterIndex","header","data"]))),128))]),_("div",Dt,[_("button",{class:"button",onClick:n},f(a.$t("filters.buttons.reset")),1),_("button",{class:"button",onClick:s[0]||(s[0]=i=>a.$emit("filtersApply",o(r).allSearchParams))},f(a.$t("filters.buttons.apply")),1)])])):P("",!0)}});const Ft={class:"group"},Rt={key:0},Tt={key:1},At={key:0,class:"group__products"},Mt=g({__name:"GroupPage",setup(t){const e=ve(),r=ne(),n=Te(),a=S(),s=he(),i=e.params.id,p=h([]),m=h([]),C=h([]),R=I(()=>{const{start:v,end:u}=a.getRange;return p.value.slice(v,u)}),O=I(()=>p.value.length),T=I(()=>O.value===0),$=()=>{var y;if(i===void 0)return;const v=(y=n.data[i])==null?void 0:y.descriptions_titles;if(Boolean(v)===!1)return;const u=k=>{const b=v[k.title];return Array.isArray(b)?{qty:0,title:""}:{qty:k.qty,title:b.value}};m.value=Object.values(n.data[i].column_headers.product_descriptions).slice(1),C.value=n.data[i].filters.filter(k=>k.length).map(k=>k.map(u))},B=v=>{var u;Object.keys(v).length!==0&&((u=n.groupWorker)==null||u.postMessage({type:"apply_filters",data:JSON.parse(JSON.stringify(v))}))},x=()=>{var v;return(v=n.groupWorker)==null?void 0:v.postMessage({type:"reset"})};return F(()=>a.activePage,v=>{const u=e.name,y=e.params.id;u&&y&&r.replace({name:u,params:{id:y},query:{page:v}})}),ye(async()=>{var y;if(i===void 0)return;await n.load(i);const v=Number(e.query.page);v>1&&a.setActive(v),window.document.title=`${n.groupName}`;const u={name:n.groupName,path:e.fullPath};if((y=e.meta.breadcrumbs)==null||y.set(u),s.updateOne(e.fullPath,u),$(),n.createWorker(),n.groupWorker){const k=JSON.parse(JSON.stringify(n.data[i]));n.groupWorker.onmessage=b=>{const{type:V,data:G}=b.data;V==="return_sum_all_product_description"&&(p.value=G)},n.groupWorker.postMessage({type:"sum_all_product_description",data:k})}}),ke(()=>{a.setDefault(),n.terminateWorker()}),(v,u)=>(l(),c("div",Ft,[o(n).isLoading?(l(),c("div",Rt,[d(o(U),{class:"skeleton__filter"},{template:N(()=>[d(o(A),{class:"skeleton__filter-item",variant:"rect"}),d(o(A),{class:"skeleton__filter-item",variant:"rect"}),d(o(A),{class:"skeleton__filter-item",variant:"rect"}),d(o(A),{class:"skeleton__filter-item",variant:"rect"})]),_:1}),d(o(U),{class:"skeleton__goods",count:10})])):P("",!0),!o(n).isLoading&&!o(n).isError?(l(),c("div",Tt,[d(Ot,{headers:m.value,data:C.value,onFiltersApply:B,onFiltersReset:x},null,8,["headers","data"]),d(Ke,{length:o(O)},{default:N(()=>[o(T)?P("",!0):(l(),c("section",At,[(l(!0),c(w,null,L(o(R),(y,k)=>(l(),D(yt,{key:k,product:y,filterHeaders:m.value},null,8,["product","filterHeaders"]))),128))]))]),_:1},8,["length"])])):P("",!0),!o(n).isLoading&&o(n).isError?(l(),D(Y,{key:2,errorMessage:o(n).isError},null,8,["errorMessage"])):P("",!0),!o(n).isLoading&&!o(n).isError&&o(T)?(l(),D(Y,{key:3,errorMessage:v.$t("group.error.empty")},null,8,["errorMessage"])):P("",!0)]))}});export{Mt as default};
